{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"../../../../App.css\";import axios from\"axios\";import Icon from\"../../../../assets/images/users-vector-icon-png_260862.jpg\";import{useSelector}from\"react-redux\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Appointment=()=>{// State to hold the list of doctors and appointments\nconst[doctors,setDoctors]=useState([]);const[appointments,setAppointments]=useState([]);const[loading,setLoading]=useState(true);const userType=useSelector(state=>state.setUserType);// Fetch data based on userType\nuseEffect(()=>{const fetchData=async()=>{setLoading(true);try{if(userType===1){// Fetch doctors data\nconst response=await axios.get(\"http://localhost:8080/public/doctor\");setDoctors(response.data.doctors);// Assuming the response contains a 'doctors' array\n}else if(userType===2){// Fetch appointments data\nconst response=await axios.get(\"http://localhost:8080/public/appointments\");setAppointments(response.data.appointments);// Assuming the response contains an 'appointments' array\n}}catch(error){console.error(\"Error fetching data:\",error);}finally{setLoading(false);}};fetchData();},[userType]);// Dependency array includes userType to refetch data if userType changes\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"flex row space-x-4 mx-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-white rounded-lg shadow-md w-96 mb-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4 border-b py-3\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold\",children:[/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"calendar\",className:\"mr-2\",children:\"\\uD83D\\uDCC5\"}),userType===1?\"Latest Doctors\":\"Latest Appointments\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:userType===1?`${doctors.length} Doctors`:`${appointments.length} Appointments`})]}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"doctor-card-scroll\",children:userType===1?doctors.length>0?doctors.map((doctor,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"flex items-center justify-between py-2 last:border-b-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:Icon// Assuming the doctor object has an 'image' field\n,className:\"w-10 h-10 rounded-full mr-4\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[doctor.firstName,\" \",doctor.lastName]}),\" \",/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500 text-sm\",children:[\"Speciality: \",doctor.Departments]}),\" \"]})]})},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No doctors found\"}):userType===2?appointments.length>0?appointments.map((appointment,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"flex items-center justify-between py-2 last:border-b-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[\"Appointment with \",appointment.doctorName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500 text-sm\",children:[\"Date: \",appointment.date]})]})})},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No appointments found\"}):null})]})});};export default Appointment;","map":{"version":3,"names":["React","useState","useEffect","axios","Icon","useSelector","jsx","_jsx","jsxs","_jsxs","Appointment","doctors","setDoctors","appointments","setAppointments","loading","setLoading","userType","state","setUserType","fetchData","response","get","data","error","console","className","children","role","length","map","doctor","index","src","firstName","lastName","Departments","appointment","doctorName","date"],"sources":["C:/Admin-and-doctor-dashboard/dashboard/src/pages/Dashboard/components/appointment/Appointment.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"../../../../App.css\";\r\nimport axios from \"axios\";\r\nimport Icon from \"../../../../assets/images/users-vector-icon-png_260862.jpg\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Appointment = () => {\r\n  // State to hold the list of doctors and appointments\r\n  const [doctors, setDoctors] = useState([]);\r\n  const [appointments, setAppointments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const userType = useSelector((state) => state.setUserType);\r\n\r\n  // Fetch data based on userType\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        if (userType === 1) {\r\n          // Fetch doctors data\r\n          const response = await axios.get(\r\n            \"http://localhost:8080/public/doctor\"\r\n          );\r\n          setDoctors(response.data.doctors); // Assuming the response contains a 'doctors' array\r\n        } else if (userType === 2) {\r\n          // Fetch appointments data\r\n          const response = await axios.get(\r\n            \"http://localhost:8080/public/appointments\"\r\n          );\r\n          setAppointments(response.data.appointments); // Assuming the response contains an 'appointments' array\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [userType]); // Dependency array includes userType to refetch data if userType changes\r\n\r\n  return (\r\n    <div className=\"flex row space-x-4 mx-5\">\r\n      <div className=\"p-6 bg-white rounded-lg shadow-md w-96 mb-10\">\r\n        <div className=\"flex justify-between items-center mb-4 border-b py-3\">\r\n          <h2 className=\"text-lg font-semibold\">\r\n            <span role=\"img\" aria-label=\"calendar\" className=\"mr-2\">\r\n              ðŸ“…\r\n            </span>\r\n            {userType === 1 ? \"Latest Doctors\" : \"Latest Appointments\"}\r\n          </h2>\r\n          <span className=\"text-gray-500\">\r\n            {userType === 1\r\n              ? `${doctors.length} Doctors`\r\n              : `${appointments.length} Appointments`}\r\n          </span>\r\n        </div>\r\n        {loading ? (\r\n          <p>Loading...</p>\r\n        ) : (\r\n          <ul className=\"doctor-card-scroll\">\r\n            {userType === 1 ? (\r\n              doctors.length > 0 ? (\r\n                doctors.map((doctor, index) => (\r\n                  <li\r\n                    key={index}\r\n                    className=\"flex items-center justify-between py-2 last:border-b-0\"\r\n                  >\r\n                    <div className=\"flex items-center\">\r\n                      <img\r\n                        src={Icon} // Assuming the doctor object has an 'image' field\r\n                        className=\"w-10 h-10 rounded-full mr-4\"\r\n                      />\r\n                      <div>\r\n                        <p className=\"font-medium\">\r\n                          {doctor.firstName} {doctor.lastName}\r\n                        </p>{\" \"}\r\n                        {/* Doctor name */}\r\n                        <p className=\"text-gray-500 text-sm\">\r\n                          Speciality: {doctor.Departments}\r\n                        </p>{\" \"}\r\n                        {/* Doctor speciality */}\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                ))\r\n              ) : (\r\n                <p>No doctors found</p>\r\n              )\r\n            ) : userType === 2 ? (\r\n              appointments.length > 0 ? (\r\n                appointments.map((appointment, index) => (\r\n                  <li\r\n                    key={index}\r\n                    className=\"flex items-center justify-between py-2 last:border-b-0\"\r\n                  >\r\n                    <div className=\"flex items-center\">\r\n                      {/* Customize this section based on your appointment data */}\r\n                      <div>\r\n                        <p className=\"font-medium\">\r\n                          Appointment with {appointment.doctorName}\r\n                        </p>\r\n                        <p className=\"text-gray-500 text-sm\">\r\n                          Date: {appointment.date}\r\n                        </p>\r\n                        {/* Add more fields as needed */}\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                ))\r\n              ) : (\r\n                <p>No appointments found</p>\r\n              )\r\n            ) : null}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Appointment;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}